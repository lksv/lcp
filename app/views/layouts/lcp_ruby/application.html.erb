<!DOCTYPE html>
<html>
<head>
  <title>LCP Ruby</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>
  <% if Rails.application.config.respond_to?(:assets) %>
    <%= stylesheet_link_tag "lcp_ruby/tom-select", media: "all" %>
    <%= stylesheet_link_tag "lcp_ruby/application", media: "all" %>
  <% end %>
</head>
<body class="lcp-layout-<%= menu_layout %>">
  <% layout = menu_layout %>

  <% case layout %>
  <% when "sidebar" %>
    <%= render "lcp_ruby/navigation/impersonation_banner" %>
    <div class="lcp-layout-with-sidebar">
      <%= render "lcp_ruby/navigation/sidebar" %>
      <div class="lcp-layout-main">
        <div class="lcp-container">
          <%= render "lcp_ruby/shared/flash_messages" %>
          <%= render "lcp_ruby/shared/breadcrumbs" %>
          <%= yield %>
        </div>
      </div>
    </div>
  <% when "both" %>
    <%= render "lcp_ruby/navigation/both_top" %>
    <%= render "lcp_ruby/navigation/impersonation_banner" %>
    <div class="lcp-layout-with-sidebar">
      <%= render "lcp_ruby/navigation/both_sidebar" %>
      <div class="lcp-layout-main">
        <div class="lcp-container">
          <%= render "lcp_ruby/shared/flash_messages" %>
          <%= render "lcp_ruby/shared/breadcrumbs" %>
          <%= yield %>
        </div>
      </div>
    </div>
  <% else %>
    <%# "top" layout â€” either menu-driven or auto-generated %>
    <% if menu_defined? %>
      <%= render "lcp_ruby/navigation/top" %>
    <% else %>
      <%= render "lcp_ruby/navigation/auto_top" %>
    <% end %>
    <%= render "lcp_ruby/navigation/impersonation_banner" %>
    <div class="lcp-container">
      <%= render "lcp_ruby/shared/flash_messages" %>
      <%= render "lcp_ruby/shared/breadcrumbs" %>
      <%= yield %>
    </div>
  <% end %>

  <!-- Inline create dialog -->
  <dialog id="lcp-inline-create-dialog" class="lcp-inline-dialog">
    <h3 id="lcp-inline-dialog-title"></h3>
    <div class="lcp-dialog-errors" id="lcp-inline-dialog-errors"></div>
    <div id="lcp-inline-dialog-content"></div>
    <div class="lcp-dialog-actions">
      <button type="button" class="btn" id="lcp-inline-dialog-cancel"><%= I18n.t("lcp_ruby.form.cancel") %></button>
      <button type="button" class="btn btn-primary" id="lcp-inline-dialog-save"><%= I18n.t("lcp_ruby.form.create") %></button>
    </div>
  </dialog>

  <% if Rails.application.config.respond_to?(:assets) %>
    <%= javascript_include_tag "lcp_ruby/tom-select.base.min" %>
    <%= javascript_include_tag "lcp_ruby/activestorage.min" %>
    <%= javascript_include_tag "lcp_ruby/application" %>
  <% end %>
</body>
</html>
