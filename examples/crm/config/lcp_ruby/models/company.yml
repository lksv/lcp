model:
  name: company
  label: "Company"
  label_plural: "Companies"

  fields:
    - name: name
      type: string
      label: "Company Name"
      column_options:
        limit: 255
        "null": false
      validations:
        - type: presence
        - type: length
          options: { minimum: 1, maximum: 255 }

    - name: industry
      type: enum
      label: "Industry"
      enum_values:
        - { value: technology, label: "Technology" }
        - { value: finance, label: "Finance" }
        - { value: healthcare, label: "Healthcare" }
        - { value: manufacturing, label: "Manufacturing" }
        - { value: retail, label: "Retail" }
        - { value: other, label: "Other" }

    - name: website
      type: string
      label: "Website"

    - name: phone
      type: string
      label: "Phone"

  associations:
    - type: has_many
      name: contacts
      target_model: contact
      foreign_key: company_id
      dependent: destroy
    - type: has_many
      name: deals
      target_model: deal
      foreign_key: company_id
      dependent: destroy

  options:
    timestamps: true
    label_method: name
