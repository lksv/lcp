permissions:
  model: showcase_permission

  roles:
    admin:
      crud: [index, show, create, update, destroy]
      fields:
        readable: all
        writable: all
      actions:
        allowed: [lock, bulk_archive, export]
    editor:
      crud: [index, show, create, update]
      fields:
        readable: [title, status, owner_id, assignee_id, priority, confidential, public_notes]
        writable: [title, status, assignee_id, priority, public_notes]
      actions:
        allowed: [lock]
    viewer:
      crud: [index, show]
      fields:
        readable: [title, status, priority, public_notes]
    owner:
      crud: [index, show, create, update, destroy]
      fields:
        readable: all
        writable: [title, status, assignee_id, priority, public_notes]
      scope:
        type: field_match
        field: owner_id
        value: current_user_id
  record_rules:
    - name: locked_readonly
      condition:
        field: status
        operator: eq
        value: locked
      effect:
        deny_crud: [update]
        except_roles: [admin]
    - name: archived_no_destroy
      condition:
        field: status
        operator: eq
        value: archived
      effect:
        deny_crud: [destroy]
