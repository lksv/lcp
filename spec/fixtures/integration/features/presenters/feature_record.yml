presenter:
  name: feature_record
  model: feature_record
  label: "Feature Records"
  slug: features
  icon: star

  index:
    default_view: table
    default_sort: { field: created_at, direction: desc }
    per_page: 25
    row_click: show
    table_columns:
      - { field: name, width: "15%", link_to: show, sortable: true, renderer: heading }
      - { field: description, width: "10%", renderer: truncate, options: { max: 30 } }
      - { field: code, renderer: code }
      - field: status
        renderer: badge
        options:
          color_map: { draft: "gray", active: "green", completed: "blue", cancelled: "red", locked: "orange" }
      - { field: is_active, renderer: boolean_icon }
      - { field: rating_value, renderer: rating, options: { max: 5 } }
      - { field: amount, renderer: currency }
      - { field: email, renderer: email_link }
      - { field: phone, renderer: phone_link }
      - { field: website, renderer: url_link }
      - { field: brand_color, renderer: color_swatch }
      - { field: due_date, renderer: date, options: { format: "%B %d, %Y" } }
      - { field: auto_date, renderer: relative_date }
      - { field: computed_score, renderer: number }

  show:
    layout:
      - section: "Overview"
        columns: 2
        fields:
          - { field: name, renderer: heading }
          - { field: code, renderer: code }
          - field: status
            renderer: badge
            options:
              color_map: { draft: "gray", active: "green", completed: "blue", cancelled: "red", locked: "orange" }
          - { field: description, renderer: truncate, options: { max: 100 } }
      - section: "Business Info"
        columns: 2
        fields:
          - { field: email, renderer: email_link }
          - { field: phone, renderer: phone_link }
          - { field: website, renderer: url_link }
          - { field: brand_color, renderer: color_swatch }
      - section: "Metrics"
        columns: 2
        fields:
          - { field: amount, renderer: currency }
          - { field: computed_score, renderer: number }
          - { field: is_active, renderer: boolean_icon }
          - { field: rating_value, renderer: rating, options: { max: 5 } }
          - { field: due_date, renderer: date, options: { format: "%B %d, %Y" } }
          - { field: auto_date, renderer: relative_date }
          - { field: computed_label }
          - { field: min_value }
          - { field: max_value }

  form:
    sections:
      - title: "Basic Info"
        columns: 2
        fields:
          - { field: name, placeholder: "Enter name...", autofocus: true }
          - { field: code, placeholder: "e.g. my-code-123" }
          - { field: status, input_type: select }
          - { field: description, input_type: text }
      - title: "Contact Info"
        columns: 2
        fields:
          - { field: email }
          - { field: phone }
          - { field: website }
          - { field: brand_color }
      - title: "Values"
        columns: 2
        fields:
          - { field: amount, input_type: number }
          - { field: is_active, input_type: boolean }
          - { field: rating_value, input_type: number }
          - { field: min_value, input_type: number }
          - { field: max_value, input_type: number }

  search:
    enabled: true
    searchable_fields: [name, code, description]
    placeholder: "Search features..."

  actions:
    collection:
      - { name: create, type: built_in, label: "New Record", icon: plus }
    single:
      - { name: show, type: built_in, icon: eye }
      - { name: edit, type: built_in, icon: pencil }
      - { name: destroy, type: built_in, icon: trash, confirm: true, style: danger }
      - name: lock
        type: custom
        label: "Lock Record"
        icon: lock
        confirm: true
        confirm_message: "Lock this record?"
        visible_when: { field: status, operator: not_in, value: [locked] }
